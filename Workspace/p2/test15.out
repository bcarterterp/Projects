1: //--------- test nested scoping type errors ---------
2: int a, b;
3: void c ( int d )
4: {
5:     int e, f;
6:     if (1 == e) {
7:         int g,h;
ERROR(8) undeclared variable i
8:         a = b + d + e + f + g + h + i;  // undeclared variable i
9:     } 
10:     else {
11:         int i,j,a,b;  
ERROR(12) undeclared variable g
12:         a = b - d - e - f - i - j - g;    // undeclared variable g
13:     }
ERROR(14) undeclared variable h
14:     a = b + d - e * f - e + h / b + a * a;   // undeclared variable h
15: }
16: 
17: int k ( )
18: {
19:     int l,m;
20:     if (1 == 2) {
21:         int n,o,a;
ERROR(22) undeclared variable i
22:         a = b * l * m * i * n * o;  // undeclared variable i
23:     } 
24:     else {
25:         int p,q,b,k,l,m; 
26: 	int a[4];
ERROR(27) misuse of a
27:         a = b / l / m / p / q;    // misuse of a
28:     }
29:     return 1;
30: }
** Global Variables **
a, int
b, int
c, void, function, param = int
k, int, function, param = <void>
printInt, void, function, param = int
printLn, void, function, param = <void>
printStr, void, function, param = String
** Local Variables in c() **
d, int
{
e, int
f, int
{
g, int
h, int
}
{
a, int
b, int
i, int
j, int
}
}
** Local Variables in k() **
{
l, int
m, int
{
a, int
n, int
o, int
}
{
a, int, array
b, int
k, int
l, int
m, int
p, int
q, int
}
}
TREE_PROC: c
{
  TREE_IF: CONDITION: (1 EQ_OP e)
{
    TREE_INSTR: a = ((((((b PLUS d) PLUS e) PLUS f) PLUS g) PLUS h) PLUS i)
}
  ELSE: 
{
    TREE_INSTR: a = ((((((b MINUS d) MINUS e) MINUS f) MINUS i) MINUS j) MINUS g)
}
  END_IF 
    TREE_INSTR: a = (((((b PLUS d) MINUS (e MUL f)) MINUS e) PLUS (h DIV b)) PLUS (a MUL a))
}
END_PROC

TREE_PROC: k
{
  TREE_IF: CONDITION: (1 EQ_OP 2)
{
    TREE_INSTR: a = (((((b MUL l) MUL m) MUL i) MUL n) MUL o)
}
  ELSE: 
{
    TREE_INSTR: a = ((((b DIV l) DIV m) DIV p) DIV q)
}
  END_IF 
    TREE_INSTR:  RETURN 1
}
END_PROC

